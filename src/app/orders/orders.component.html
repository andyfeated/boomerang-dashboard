<!-- Customer Information Card -->
<div class="customer-information">

    <div class="customer-information-top">
        <div class="dasboard-bulk-orders-header">
            <h4><i class="las la-user-plus"></i> Customer Information</h4>
        </div>
        <div class="form-field-holder">
    
            <div class="form-field">
                <label for="">Customer Name</label>
                <input #customerNameInput type="text" placeholder="Sample">
            </div>
    
            <div class="form-field">
                <label for="">Mobile Number</label>
                <input #mobileNumberInput type="text" placeholder="Sample">
            </div>

            <div class="form-field">
                <label for="">Region</label>
                <select #regionInput (change)="onChange($event)">
                    <option *ngFor="let regionNew of regionsNew | keyvalue">{{regionNew.value}}</option>
                </select>
            </div>

            <div class="form-field">
                <label for="">Address Line</label>
                <input #addressLineInput type="text" placeholder="Sample">
            </div>

            <div class="form-field">
                <label for="">Province</label>
                <select #provinceInput (change)="onChangeProvince($event)">
                    <option *ngFor="let provinceNew of provincesNew.get(selectedRegion)" [value]="provinceNew">{{provinceNew}}</option>
                </select>
            </div>


            <div class="form-field">
                <label for="">Barangay</label>
                <input #barangayInput type="text" placeholder="Sample">
            </div>

            <div class="form-field">
                <label for="">Municipality</label>
                <select #municipalityInput>
                    <option *ngFor="let municipalityNew of municipalitiesNew.get(selectedProvince)" >{{municipalityNew}}</option>
                </select>
            </div>
    
            
        </div>
    </div>


    <div class="customer-information-bottomside">
        <div class="dasboard-bulk-orders-header">
            <h4><i class="las la-user-plus"></i> Shop Addrress</h4>
        </div>
        
        <div class="customer-information-label">
            <label>Region</label>
        </div>

        <div class="customer-information-input">
            <select #shopRegionInput>
                <option *ngFor="let item of shopRegions">{{item}}</option>
            </select>
        </div>
    </div>

    <div class="customer-information-bottom">
        <div class="dasboard-bulk-orders-header">
            <h4><i class="las la-inbox"></i> Order Information</h4>
        </div>

        <div class="order-information-container">
            <div class="form-field-long">
                <Label>Product Description</Label>
                <input #productDescriptionInput placeholder="Sample">
            </div>
    
            <div class="form-field-medium">
                <label for="">Item Value</label>
                <input #itemValueInt type="number" placeholder="0">
            </div>
    
            <div hidden>
                <div class="customer-information-bottom-label">
                    <label>Weight in Grams</label>
                </div>
    
                <div class="customer-information-bottom-input-small">
                    <input hidden #weightInput placeholder="Sample">
                    <input disabled #weightInt type="number" placeholder="0">
                </div>
            </div>
    
            <div class="form-field-medium">
                <label for="">Shipment Type</label>
                <select [(ngModel)]="choice" #sizeInput>
                    <option value="" disabled selected>Shipment Type</option>
                    <option value="Volumetric">Volumetric</option>
                    <option>Small</option>
                    <option>Medium</option>
                    <option>Large</option>
                </select>
            </div>
    
            <div [hidden]="choice !== 'Volumetric'">
                <div class="form-field-small">
                    <label for="">Length</label>
                    <input #lengthInput placeholder="0">
                </div>
        
                <div class="form-field-small">
                    <label for="">Width</label>
                    <input #widthInput placeholder="0">
                </div>
        
                <div class="form-field-small">
                    <label for="">Height</label>
                    <input #heightInput placeholder="0">
                </div>
            </div>
    
            <div class="form-field-small">
                <label for="">Insurance Fee</label>
                <input disabled [value]="insuranceFeeValue" #insuranceFeeInput placeholder="Sample">
            </div>
    
            <div class="form-field-small">
                <label for="">Shipment Fee</label>
                <input disabled [value]="shipmentFeeValue" #shipmentFeeInput>
            </div>
    
            <div class="form-field-small">
                <label for="">COD Fee</label>
                <input disabled [value]="codFeeValue" #codFeeInput>
            </div>
    
            <div class="form-field-long">
                <Label>Remarks</Label>
                <input #remarksInput placeholder="Sample">
            </div>
        </div>

        <div>
            <!--Total Sales Card-->
            <div class="customer-card">
                <h5>Total Sales</h5>
                <h1>{{itemValueNumber}}</h1>
            </div>

            <!--Total Cod Fee Card-->
            <div class="customer-card">
                <h5>Total COD Fee</h5>
                <h1>{{codFeeNumber}}</h1>
            </div>

            <!--Total Insurance Fee Card-->
            <div class="customer-card">
                <h5>Total Insurance Fee</h5>
                <h1>{{insuranceFeeNumber}}</h1>
            </div>

            <!--Create Waybill Bulk Button-->
            <!--Takes the value of every enabled form and passes it to the addParcel() Function-->
            <div class="button-container">
                    <button (click)="addParcel(
                                    customerNameInput.value,
                                    mobileNumberInput.value,
                                    regionInput.value,
                                    shopRegionInput.value,
                                    provinceInput.value,
                                    municipalityInput.value,
                                    addressLineInput.value,
                                    barangayInput.value, 
                                    productDescriptionInput.value,
                                    itemValueInt.value,
                                    codFeeInput.value,
                                    weightInput.value,
                                    insuranceFeeInput.value,
                                    shipmentFeeInput.value,
                                    remarksInput.value,
                                    sizeInput.value,
                                    weightInt.value,
                                    lengthInput.value, widthInput.value, heightInput.value
                                    )">Create Waybiil Bulk
                    </button>

                    <button (click)="generateWaybill( municipalityInput.value)">Generate Waybill</button>
                                    </div>
        </div>

    </div>
</div>

<!--Parcel In this Bulk Order-->
<div class="customer-information-table">
    <!--Parcel In this Bulk Order Header-->
    <div class="dasboard-bulk-orders-header">
        <h4><i class="las la-inbox"></i> Parcel in this Bulk Order</h4>
    </div>

    <div class="containers">
        <div class="waybill-query-table-create">
            <!--Orders ID-->
            <!--Takes a value from Waybill Service that creates a random 8 digit number and displays it-->
            Orders ID:{{ordersID}}

            <!--Parcel in this bulk order table-->
            <table id="customerss">
                <!--Table Header-->
                <tr>            
                    <th>
                        <p>Waybill Number</p>
                    </th>
                    <th>
                        <p>Weight</p>
                    </th>
                </tr>
                
                <!--Table Body-->
                <!--The parcels array from orders.component.ts sets its values to the values from the waybill.service.ts's parcel array-->

                <tr *ngFor="let item of parcelObs | async">

                    <!--Displays the awb values from the parcels array-->
                    <td>
                        {{item.awb}}
                    </td>
                    <!--Displays the weight values from the parcels array-->
                    <td>
                        {{item.weight}} KG
                    </td>
                </tr>
                
            </table>
        </div>

        <div class="card-table-margin">
            <!--Total Parcels Card-->
            <div class="customer-card-table">
                <h5>Total Parcels</h5>
                <h1>{{parcelsNumber}}</h1>
            </div>
    
            <!--Total Weight Card-->
            <div class="customer-card-table">
                <h5>Total Weight (KG)</h5>
                <h1>{{weightNumber}}</h1>
            </div>
        </div>
    </div>
</div>


